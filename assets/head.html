<!DOCTYPE html>
<html lang="cs">

<head>
    <meta charset="UTF-8">
    <meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
    <meta content="Erža" name="author">
    <meta content="latina, latinský jazyk, skloňování, tabulky, překlad, výklad, slovník" name="keywords">
    <meta content="Latinátor je nástroj, poskytující analýzu latinského textu v češtině" name="description">
    <title>[title] | Latinátor</title>
    <link href="assets/critical.css" rel="stylesheet" type="text/css">
    <link href="assets/latinator.webp" rel="icon">
</head>

<body>
    <header>
        <a href="https://latinator.erza.cz/">
            <img alt="logo" class="logo" src="assets/latinator.webp">
            <hgroup class="heading">
                <h1 class="name">Latinátor</h1>
                <h4 class="description">Překlad a analýza latinského textu</h4>
            </hgroup>
        </a>
    </header>
    <nav>
        <div>
        <button id="preklad">Překlad věty</button>
        <button id="vyklad">Výklad slova</button>
    </div>
    </nav>
    <search>
        <form action=".">
            <input type="search" id="s" name="s" placeholder="[placeholder]" >
            <input type="submit" value="Hledat">
        </form>
    </search>
    <script>
        if(findGetParameter("s") !== null || findGetParameter("d") === null && findGetParameter("s") === null) {document.getElementById("preklad").style.background = "var(--Main)"
		document.getElementById("s").name = "s"
		}
        if(findGetParameter("d") !== null){ document.getElementById("vyklad").style.background = "var(--Main)"
		document.getElementById("s").name = "d"
		}

        document.getElementById("preklad").addEventListener("click", (event) => menu(event))
        document.getElementById("vyklad").addEventListener("click", (event) => menu(event))

        function menu(event){
            let target = event.target;
            if(target.id == "preklad"){
                if(findGetParameter("d") !== null)
                    location.href = "?s=" + findGetParameter("d")
                else location.href = "?s="
            }else{
                if(findGetParameter("s") !== null)
                    location.href = "?d=" + findGetParameter("s")
                else location.href = "?d="
            }
            console.log(event)
        }
        function findGetParameter(parameterName) {
            let result = null,
                tmp = [];
            location.search
                .substring(1)
                .split("&")
                .forEach(function (item) {
                    tmp = item.split("=");
                    if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
                });
            return result;
        }
    </script>
